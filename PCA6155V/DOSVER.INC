; STRINGS
OLDVER  DB "THIS PROGRAM REQUIRES MS-DOS 2.0 OR HIGHER",CR,LF,CR,LF,DST

DOSVER:
; THIS ROUTINE REQUIRES DOS 2+
; BUT ON DOS 1 THE RETURN VALUE WILL BE UNCHANGED
; SETVER CAN FUDGE THE VALUE BUT ITS LOWEST RETURN VALUE IS 2.11
    MOV AX,3000H
    INT 21H

    CMP AL,00H
    JE DOSV1

DOS2PLUS:
; WE ARE THE REQUIRED MINIMUM VERSION
    RET

DOSV1:
; PRINT ERROR
    MOV DX,OFFSET OLDVER
    MOV AH,09H
    INT 21H

; DOS 1 EXIT ROUTINE
    MOV AH,00H
    INT 21H
